extends layout

block content
  include header.pug
  head
    link(rel='stylesheet', href='/stylesheets/home-style.css')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js')
    script. 
      function GotoDeleteShoppingListItem(id) { 
        $.ajax({
          url: "/removeshoppinglistitem", 
          data: {ToDelete: id}, 
          method: "POST",
          success: function(result){
            alert("Item deleted successfully");
            location.reload(); 
        }});
      }
      style.
      // using the recipe style to keep the same visual appearance for the website
  body
    .outerwrapper 
        .leftwrapper 
          .recipeheader  
            h1= title
          if user != null && shoppinglist != null
            h2 Welcome, #{user.name}. This is your shopping list: 

          each item in shoppinglist.List 
            .recipewrapper
            

              .recipeleft 

                .recipetitle
                  h3 Item: #{item.Item}
                .recipedescription
                  p Quantity: #{item.Quantity}  
                  div.form-group
                  <input type="checkbox" name="checkbox">
                  <label for="checkbox">  âœ“</label><br>
              .reciperight(onclick="GotoDeleteShoppingListItem("+JSON.stringify(id)+")") 
                p x

          form(role='form' action="/addshoppinglistitem" method="post" )
            div.form-group
              label(for='Item') <strong>Item:</strong>
              input(type="text" name="Item" placeholder="e.g. 1kg Flour")
            div.form-group
              label(for='Quantity') <strong>Quantity:</strong>
              input(type="number" name="Quantity" placeholder="e.g. 2")
            div.form-group
              input(value="Submit" type="submit")
        